.flower-button {
  position: relative;
  overflow: visible;
  z-index: 2;
}

.flower-button:before,
.flower-button:after {
  position: absolute;
  content: "";
  display: block;
  width: 140%;
  height: 100%;
  left: -20%;
  z-index: 1;
  background-repeat: no-repeat;
  pointer-events: none;
  will-change: background-position, background-size, opacity;
  opacity: 0;
  visibility: hidden;
}

/* Foglie superiori */
.flower-button:before {
  top: -90%;
  background-image:
    url("flowerpink.png"), url("flowerdusty.png"), url("flowerpink.png"),
    url("flowerdusty.png"), url("flowerpink.png"), url("flowerdusty.png"),
    url("flowerpink.png"), url("flowerdusty.png"), url("flowerpink.png");
}

/* Foglie inferiori */
.flower-button:after {
  bottom: -100%;
  transform: rotate(180deg);
  background-image:
    url("flowerdusty.png"), url("flowerpink.png"), url("flowerdusty.png"),
    url("flowerpink.png"), url("flowerdusty.png"), url("flowerpink.png"),
    url("flowerdusty.png");
}

/* Animazioni */
.flower-button.animate:before {
  opacity: 1;
  visibility: visible;
  animation: topFlowers 1.5s ease-out both;
}

.flower-button.animate:after {
  opacity: 1;
  visibility: visible;
  animation: bottomFlowers 1.5s ease-out both;
}
@keyframes topFlowers {
  0% {
    opacity: 1;
    background-position:
      5% 95%,
      10% 95%,
      20% 95%,
      30% 95%,
      40% 95%,
      50% 95%,
      60% 95%,
      70% 95%,
      80% 95%;
    background-size:
      2% auto,
      4% auto,
      3% auto,
      3% auto,
      3.6% auto,
      2% auto,
      3% auto,
      4% auto,
      3.6% auto;
  }
  50% {
    opacity: 1;
    background-position:
      10% 25%,
      20% 10%,
      30% 20%,
      40% 5%,
      50% 15%,
      60% 0%,
      70% 10%,
      80% 5%,
      90% 15%;
    background-size:
      6% auto,
      12% auto,
      9% auto,
      9% auto,
      10.8% auto,
      6% auto,
      9% auto,
      12% auto,
      10.8% auto;
  }
  100% {
    opacity: 0;
    background-position:
      10% 25%,
      20% 10%,
      30% 20%,
      40% 5%,
      50% 15%,
      60% 0%,
      70% 10%,
      80% 5%,
      90% 15%;
    background-size:
      6% auto,
      12% auto,
      9% auto,
      9% auto,
      10.8% auto,
      6% auto,
      9% auto,
      12% auto,
      10.8% auto;
  }
}
@keyframes bottomFlowers {
  0% {
    opacity: 1;
    background-position:
      15% 110%,
      30% 110%,
      45% 110%,
      60% 110%,
      70% 110%,
      80% 110%,
      90% 110%;
    background-size:
      3% auto,
      4% auto,
      3% auto,
      4% auto,
      3% auto,
      2.5% auto,
      4% auto;
  }
  50% {
    opacity: 1;
    background-position:
      15% 25%,
      30% 10%,
      45% 20%,
      60% 5%,
      70% 15%,
      80% 0%,
      90% 10%;
    background-size:
      9% auto,
      12% auto,
      10.8% auto,
      12% auto,
      9% auto,
      6% auto,
      12% auto;
  }
  100% {
    opacity: 0;
    background-position:
      15% 25%,
      30% 10%,
      45% 20%,
      60% 5%,
      70% 15%,
      80% 0%,
      90% 10%;
    background-size:
      9% auto,
      12% auto,
      10.8% auto,
      12% auto,
      9% auto,
      6% auto,
      12% auto;
  }
}
